import{m as R}from"./chunk-I4FZWFOF.js";import{a as V}from"./chunk-ZRXFNNED.js";import{a as Be,b as ie}from"./chunk-5SG6XZNV.js";import{a as Ge,b as k,c as D,d as T,h as Re,j as O,k as P,l as j,m as Ve,n as B,p as Ae,q as Le,r as oe,s as qe,t as ge,u as ne,v as G,w as Ue,x as _}from"./chunk-ALQT27XK.js";import{a as M}from"./chunk-CGKAYHOZ.js";import{Ab as ee,Ba as _e,Ca as E,Fa as h,Fb as Pe,Ga as S,H as $,I as H,Ja as X,K as L,Ka as we,Ma as Y,N as d,Na as K,O as z,Oa as Z,Pa as Ne,Pb as te,Qa as m,Qb as je,Ra as y,S as xe,Sa as q,T as b,Ta as Me,Tb as U,U as x,Ub as re,V as Ee,Xa as De,Ya as u,cb as F,db as I,ea as c,fa as p,g as N,oa as Fe,q as Ce,qa as v,r as be,sa as s,tb as J,ua as Ie,ub as C,wa as o,wb as Te,xa as n,ya as l,zb as Oe}from"./chunk-S6MUX6B3.js";var ae=class r{constructor(t){this.http=t}baseUrl=re.apiUrl;getDeliveryMethods(){return this.http.get(this.baseUrl+"orders/deliveryMethods").pipe(be(t=>t.sort((e,i)=>i.price-e.price)))}static \u0275fac=function(e){return new(e||r)(L(Pe))};static \u0275prov=$({token:r,factory:r.\u0275fac,providedIn:"root"})};function it(r,t){if(r&1){let e=E();o(0,"div",9)(1,"input",10),h("click",function(){let a=b(e).$implicit,f=S(2);return x(f.setShippingPrice(a))}),n(),o(2,"label",11)(3,"strong"),m(4),F(5,"currency"),n(),l(6,"br"),o(7,"span",12),m(8),n()()()}if(r&2){let e=t.$implicit;c(),X("id",e.id),X("value",e.id),c(),X("for",e.id),c(2),Me("",e.shortName," - ",I(5,6,e.price),""),c(4),y(e.description)}}function ot(r,t){if(r&1&&(o(0,"div",6)(1,"div",7),v(2,it,9,8,"div",8),n()()),r&2){let e=S();s("formGroup",e.checkoutForm),c(2),s("ngForOf",e.deliveryMethods)}}var ce=class r{constructor(t,e){this.checkoutService=t;this.basketService=e}checkoutForm;addressInteracted=!1;deliveryMethods=[];ngOnChanges(t){t.addressInteracted.currentValue&&this.retrieveDeliveryMethods()}retrieveDeliveryMethods(){this.checkoutService.getDeliveryMethods().subscribe({next:t=>{this.deliveryMethods=t,this.getDeliveryMethodValue()}})}setShippingPrice(t){this.basketService.setShippingPrice(t)}getDeliveryMethodValue(){let t=this.basketService.getCurrentBasketValue();t&&t.deliveryMetodId&&this.checkoutForm.get("deliveryForm")?.get("deliveryMethod")?.patchValue(t.deliveryMetodId.toString())}static \u0275fac=function(e){return new(e||r)(p(ae),p(M))};static \u0275cmp=d({type:r,selectors:[["app-checkout-delivery"]],inputs:{checkoutForm:"checkoutForm",addressInteracted:"addressInteracted"},standalone:!0,features:[xe,u],decls:8,vars:2,consts:[["class","mt-4",3,"formGroup",4,"ngIf"],[1,"d-flex","justify-content-between","flex-row","mb-5"],["cdkStepperPrevious","",1,"btn","btn-outline-primary"],[1,"fa","fa-angle-left"],["cdkStepperNext","",1,"btn","btn-primary",3,"disabled"],[1,"fa","fa-angle-right"],[1,"mt-4",3,"formGroup"],["formGroupName","deliveryForm",1,"row"],["class","col-6 form-group",4,"ngFor","ngForOf"],[1,"col-6","form-group"],["type","radio","formControlName","deliveryMethod",1,"form-check-input",3,"click","id","value"],[1,"form-check-label","ms-2","mb-3",3,"for"],[1,"label-description"]],template:function(e,i){if(e&1&&(v(0,ot,3,2,"div",0),o(1,"div",1)(2,"button",2),l(3,"i",3),m(4," Back to address "),n(),o(5,"button",4),m(6," Go to Review "),l(7,"i",5),n()()),e&2){let a;s("ngIf",i.checkoutForm),c(5),s("disabled",i.checkoutForm==null||(a=i.checkoutForm.get("deliveryForm"))==null?null:a.invalid)}},dependencies:[C,J,ee,B,Ge,Re,D,T,O,j,P,Ue,ne,G]})};function ct(r,t){if(r&1){let e=E();o(0,"div",6)(1,"div",7)(2,"h4"),m(3,"Shipping address"),n(),o(4,"button",8),h("click",function(){b(e);let a=S();return x(a.saveUserAddress())}),m(5," Save as default address "),n()(),o(6,"div",9)(7,"div",10),l(8,"app-text-input",11),n(),o(9,"div",10),l(10,"app-text-input",12),n(),o(11,"div",10),l(12,"app-text-input",13),n(),o(13,"div",10),l(14,"app-text-input",14),n(),o(15,"div",10),l(16,"app-text-input",15),n(),o(17,"div",10),l(18,"app-text-input",16),n()()()}if(r&2){let e,i=S();s("formGroup",i.checkoutForm),c(4),s("disabled",!((e=i.checkoutForm.get("addressForm"))!=null&&e.valid)||!((e=i.checkoutForm.get("addressForm"))!=null&&e.dirty)),c(4),s("label","First name"),c(2),s("label","Last name"),c(2),s("label","Street"),c(2),s("label","City"),c(2),s("label","State"),c(2),s("label","Zip code")}}var se=class r{constructor(t,e){this.accountService=t;this.toastr=e}checkoutForm;saveUserAddress(){this.accountService.updateUserAddress(this.checkoutForm?.get("addressForm")?.value).subscribe({next:()=>{this.toastr.success("Address saved"),this.checkoutForm?.get("addressForm")?.reset(this.checkoutForm?.get("addressForm")?.value)}})}static \u0275fac=function(e){return new(e||r)(p(ie),p(R))};static \u0275cmp=d({type:r,selectors:[["app-checkout-address"]],inputs:{checkoutForm:"checkoutForm"},standalone:!0,features:[u],decls:8,vars:2,consts:[["class","mt-4",3,"formGroup",4,"ngIf"],[1,"d-flex","justify-content-between","flex-row","mb-5"],["routerLink","/basket",1,"btn","btn-outline-primary"],[1,"fa","fa-angle-left"],["cdkStepperNext","",1,"btn","btn-primary",3,"disabled"],[1,"fa","fa-angle-right"],[1,"mt-4",3,"formGroup"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],["formGroupName","addressForm",1,"row"],[1,"form-group","col-6"],["formControlName","firstName",3,"label"],["formControlName","lastName",3,"label"],["formControlName","street",3,"label"],["formControlName","city",3,"label"],["formControlName","state",3,"label"],["formControlName","zipcode",3,"label"]],template:function(e,i){if(e&1&&(v(0,ct,19,8,"div",0),o(1,"div",1)(2,"button",2),l(3,"i",3),m(4," Back to basket "),n(),o(5,"button",4),m(6," Go to Delivery "),l(7,"i",5),n()()),e&2){let a;s("ngIf",i.checkoutForm),c(5),s("disabled",i.checkoutForm==null||(a=i.checkoutForm.get("addressForm"))==null?null:a.invalid)}},dependencies:[C,B,D,T,O,j,P,_,oe,ne]})};var le=class r{constructor(t,e){this.basketService=t;this.toastr=e}appStepper;createPaymentIntent(){this.basketService.createPaymentIntent().subscribe({next:()=>{this.appStepper?.next()},error:t=>this.toastr.error(t.message)})}static \u0275fac=function(e){return new(e||r)(p(M),p(R))};static \u0275cmp=d({type:r,selectors:[["app-checkout-review"]],inputs:{appStepper:"appStepper"},standalone:!0,features:[u],decls:9,vars:1,consts:[[1,"mt-4"],[3,"isBasket"],[1,"d-flex","justify-content-between","flex-row","mb-5"],["cdkStepperPrevious","",1,"btn","btn-outline-primary"],[1,"fa","fa-angle-left"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-angle-right"]],template:function(e,i){e&1&&(o(0,"div",0),l(1,"app-basket-summary",1),n(),o(2,"div",2)(3,"button",3),l(4,"i",4),m(5," Back to delivery "),n(),o(6,"button",5),h("click",function(){return i.createPaymentIntent()}),m(7," Go to Payment "),l(8,"i",6),n()()),e&2&&(c(),s("isBasket",!1))},dependencies:[_,Ae,G]})};var ze="https://js.stripe.com/v3",mt=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,$e="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",st=function(){for(var t=document.querySelectorAll('script[src^="'.concat(ze,'"]')),e=0;e<t.length;e++){var i=t[e];if(mt.test(i.src))return i}return null},He=function(t){var e=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",i=document.createElement("script");i.src="".concat(ze).concat(e);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(i),i},lt=function(t,e){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"4.3.0",startTime:e})},Q=null,pe=null,de=null,pt=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},dt=function(t,e){return function(){window.Stripe?t(window.Stripe):e(new Error("Stripe.js not available"))}},ut=function(t){return Q!==null?Q:(Q=new Promise(function(e,i){if(typeof window>"u"||typeof document>"u"){e(null);return}if(window.Stripe&&t&&console.warn($e),window.Stripe){e(window.Stripe);return}try{var a=st();if(a&&t)console.warn($e);else if(!a)a=He(t);else if(a&&de!==null&&pe!==null){var f;a.removeEventListener("load",de),a.removeEventListener("error",pe),(f=a.parentNode)===null||f===void 0||f.removeChild(a),a=He(t)}de=dt(e,i),pe=pt(i),a.addEventListener("load",de),a.addEventListener("error",pe)}catch(w){i(w);return}}),Q.catch(function(e){return Q=null,Promise.reject(e)}))},ft=function(t,e,i){if(t===null)return null;var a=t.apply(void 0,e);return lt(a,i),a},W,Xe=!1,Ye=function(){return W||(W=ut(null).catch(function(t){return W=null,Promise.reject(t)}),W)};Promise.resolve().then(function(){return Ye()}).catch(function(r){Xe||console.warn(r)});var Ke=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];Xe=!0;var a=Date.now();return Ye().then(function(f){return ft(f,e,a)})};var vt=["cardNumber"],ht=["cardExpiry"],St=["cardCvc"];function yt(r,t){if(r&1&&(o(0,"div",10)(1,"div",11)(2,"div",12),l(3,"app-text-input",13),n()(),o(4,"div",14)(5,"div",15)(6,"div",16),l(7,"div",17,0),o(9,"label"),m(10,"Card Number"),n(),o(11,"span",18),m(12),n()()(),o(13,"div",19)(14,"div",16),l(15,"div",17,1),o(17,"label"),m(18,"Card Expiry"),n()()(),o(19,"div",19)(20,"div",16),l(21,"div",17,2),o(23,"label"),m(24,"Card Cvc"),n()()()()()),r&2){let e=S();s("formGroup",e.checkoutForm),c(3),s("label","Name on card"),c(9),y(e.cardErrors)}}function Ct(r,t){r&1&&l(0,"i",20)}var ue=class r{constructor(t,e,i,a){this.basketService=t;this.orderService=e;this.toastr=i;this.router=a}checkoutForm;cardNumberElement;cardExpiryElement;cardCvcElement;loading=!1;cardErrors;cardCvcComplete=!1;cardNumberComplete=!1;cardExpiryComplete=!1;stripe=null;cardNumber;cardExpiry;cardCvc;ngOnInit(){Ke(re.stripePublicKey).then(t=>{this.stripe=t;let e=t?.elements();e&&(this.cardNumberValidation(e),this.cardExpiryValidation(e),this.cardCvcValidation(e))})}get paymentFormComplete(){return this.checkoutForm?.get("paymentForm")?.valid&&this.cardNumberComplete&&this.cardExpiryComplete&&this.cardCvcComplete}cardNumberValidation(t){this.cardNumber=t.create("cardNumber"),this.cardNumber.mount(this.cardNumberElement?.nativeElement),this.cardNumber.on("change",e=>{this.cardNumberComplete=e.complete,e.error?this.cardErrors=e.error.message:this.cardErrors=null})}cardExpiryValidation(t){this.cardExpiry=t.create("cardExpiry"),this.cardExpiry.mount(this.cardExpiryElement?.nativeElement),this.cardExpiry.on("change",e=>{this.cardExpiryComplete=e.complete,e.error?this.cardErrors=e.error.message:this.cardErrors=null})}cardCvcValidation(t){this.cardCvc=t.create("cardCvc"),this.cardCvc.mount(this.cardCvcElement?.nativeElement),this.cardCvc.on("change",e=>{this.cardCvcComplete=e.complete,e.error?this.cardErrors=e.error.message:this.cardErrors=null})}submitOrder(){return N(this,null,function*(){this.loading=!0;let t=this.basketService.getCurrentBasketValue();if(!t)throw new Error("cannot get basket");try{let e=yield this.createOrder(t),i=yield this.confirmPaymentWithStripe(t);if(i.paymentIntent){this.orderService.orderComplete=!0,this.basketService.deleteBasket(t);let a={state:e};this.router.navigate(["checkout/success",a])}else this.toastr.error(i.error.message)}catch(e){console.log(e),this.toastr.error(e.message)}finally{this.loading=!1}})}confirmPaymentWithStripe(t){return N(this,null,function*(){if(!t)throw new Error("Basket is null");let e=this.stripe?.confirmCardPayment(t.clientSecret,{payment_method:{card:this.cardNumber,billing_details:{name:this.checkoutForm?.get("paymentForm")?.get("nameOnCard")?.value}}});if(!e)throw new Error("Problem attempting payment with stripe");return e})}createOrder(t){return N(this,null,function*(){if(!t)throw new Error("Basket is null");let e=yield this.getOrderToCreate(t);return Ce(this.orderService.createOrder(e))})}getOrderToCreate(t){return N(this,null,function*(){let e=this.checkoutForm?.get("deliveryForm")?.get("deliveryMethod")?.value,i=this.checkoutForm?.get("addressForm")?.value;if(!e||!i)throw new Error("Problem with basket");return{basketId:t.id,deliveryMethodId:e,shipToAddress:i,discount:yield this.getDiscount()}})}getDiscount(){return N(this,null,function*(){return(yield Ce(this.basketService.basketTotalSource$))?.discount})}static \u0275fac=function(e){return new(e||r)(p(M),p(V),p(R),p(te))};static \u0275cmp=d({type:r,selectors:[["app-checkout-payment"]],viewQuery:function(e,i){if(e&1&&(Y(vt,5),Y(ht,5),Y(St,5)),e&2){let a;K(a=Z())&&(i.cardNumberElement=a.first),K(a=Z())&&(i.cardExpiryElement=a.first),K(a=Z())&&(i.cardCvcElement=a.first)}},inputs:{checkoutForm:"checkoutForm"},standalone:!0,features:[u],decls:9,vars:3,consts:[["cardNumber",""],["cardExpiry",""],["cardCvc",""],["class","mt-4",3,"formGroup",4,"ngIf"],[1,"d-flex","justify-content-between","flex-row","mb-5"],["cdkStepperPrevious","",1,"btn","btn-outline-primary"],[1,"fa","fa-angle-left"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-angle-right"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"mt-4",3,"formGroup"],[1,"row"],["formGroupName","paymentForm",1,"form-group","col-12"],["formControlName","nameOnCard",3,"label"],[1,"row","mb-3"],[1,"col-6"],[1,"form-floating"],[1,"form-control"],[1,"text-danger"],[1,"col-3"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,i){e&1&&(v(0,yt,25,3,"div",3),o(1,"div",4)(2,"button",5),l(3,"i",6),m(4," Back to review "),n(),o(5,"button",7),h("click",function(){return i.submitOrder()}),m(6," Submit order "),l(7,"i",8),v(8,Ct,1,0,"i",9),n()()),e&2&&(s("ngIf",i.checkoutForm),c(5),s("disabled",i.loading||!i.paymentFormComplete),c(3),s("ngIf",i.loading))},dependencies:[C,_,oe,G,B,D,T,O,j,P]})};function gt(r,t){if(r&1){let e=E();o(0,"li",4)(1,"div",5)(2,"button",6),h("click",function(){let a=b(e).index,f=S();return x(f.onClick(a))}),m(3),n()()()}if(r&2){let e=t.$implicit,i=t.index,a=S();c(2),Ie("active",a.selectedIndex===i),s("disabled",!0),c(),q(" ",e.label," ")}}function kt(r,t){if(r&1&&(o(0,"div"),_e(1,7),n()),r&2){let e=S();c(),s("ngTemplateOutlet",e.selected.content)}}var fe=class r extends ge{linearModeSelected=!0;ngOnInit(){this.linear=this.linearModeSelected}onClick(t){this.selectedIndex=t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ee(r)))(i||r)}})();static \u0275cmp=d({type:r,selectors:[["app-stepper"]],inputs:{linearModeSelected:"linearModeSelected"},standalone:!0,features:[De([{provide:ge,useExisting:r}]),Fe,u],decls:4,vars:2,consts:[[1,"container"],[1,"nav","nav-pills","nav-justified"],["class","nav-item",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"nav-item"],[1,"d-grid"],[1,"nav-link","py-3","text-uppercase","fw-bold",3,"click","disabled"],[3,"ngTemplateOutlet"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"ul",1),v(2,gt,4,4,"li",2),n(),v(3,kt,2,1,"div",3),n()),e&2&&(c(2),s("ngForOf",i.steps),c(),s("ngIf",i.selected))},dependencies:[C,J,Te],styles:["button.nav-link[_ngcontent-%COMP%]{background:#e9ecef;border-radius:0;border:none;color:#333}button.nav-link[_ngcontent-%COMP%]:disabled:not(.active){color:#333;background:#e9ecef}"]})};var ve=class r{constructor(t,e){this.fb=t;this.accountService=e;this.initForm()}addressInteracted=!1;checkoutForm;ngOnInit(){this.getAddressFormValues()}initForm(){this.checkoutForm=this.fb.group({addressForm:this.fb.group({firstName:["",k.required],lastName:["",k.required],street:["",k.required],city:["",k.required],state:["",k.required],zipcode:["",k.required]}),deliveryForm:this.fb.group({deliveryMethod:["",k.required]}),paymentForm:this.fb.group({nameOnCard:["",k.required]})})}inter(t){t.interacted&&(this.addressInteracted=t.interacted)}getAddressFormValues(){this.accountService.getUserAddress().subscribe({next:t=>{t&&this.checkoutForm.get("addressForm")?.patchValue(t)}})}static \u0275fac=function(e){return new(e||r)(p(Ve),p(ie))};static \u0275cmp=d({type:r,selectors:[["app-checkout"]],standalone:!0,features:[u],decls:15,vars:12,consts:[["appStepper",""],[1,"container","mt-5"],[1,"row"],[1,"col-8"],[3,"interacted","label","completed"],[3,"checkoutForm"],[3,"label","completed"],[3,"checkoutForm","addressInteracted"],[3,"label"],[3,"appStepper"],[1,"col-4"]],template:function(e,i){if(e&1){let a=E();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"app-stepper",null,0)(5,"cdk-step",4),h("interacted",function(w){return b(a),x(i.inter(w))}),l(6,"app-checkout-address",5),n(),o(7,"cdk-step",6),l(8,"app-checkout-delivery",7),n(),o(9,"cdk-step",8),l(10,"app-checkout-review",9),n(),o(11,"cdk-step",6),l(12,"app-checkout-payment",5),n()()(),o(13,"div",10),l(14,"app-order-totals"),n()()()}if(e&2){let a,f,w,tt=Ne(4);c(5),s("label","Address")("completed",(a=i.checkoutForm.get("addressForm"))==null?null:a.valid),c(),s("checkoutForm",i.checkoutForm),c(),s("label","Delivery")("completed",(f=i.checkoutForm.get("deliveryForm"))==null?null:f.valid),c(),s("checkoutForm",i.checkoutForm)("addressInteracted",i.addressInteracted),c(),s("label","Review"),c(),s("appStepper",tt),c(),s("label","Payment")("completed",(w=i.checkoutForm.get("paymentForm"))==null?null:w.valid),c(),s("checkoutForm",i.checkoutForm)}},dependencies:[_,Le,fe,qe,se,ce,le,ue]})};function xt(r,t){if(r&1&&(o(0,"div",2)(1,"div"),l(2,"i",3),n(),o(3,"h2"),m(4,"Thank you. Your order is confirmed"),n(),o(5,"p",4),m(6," Your order has not shipped yet, but this is to be expected as we are not a real store! "),n(),o(7,"div",5)(8,"p")(9,"strong"),m(10,"Buyer Email: "),n(),o(11,"span",6),m(12),n()(),o(13,"p")(14,"strong"),m(15," Delivery Method: "),n(),o(16,"span",6),m(17),n()(),o(18,"p")(19,"strong"),m(20,"Sub Total: "),n(),o(21,"span",6),m(22),F(23,"currency"),n()(),o(24,"p")(25,"strong"),m(26,"Discount: "),n(),o(27,"span",7),m(28),F(29,"currency"),n()(),o(30,"p")(31,"strong"),m(32,"Shipping price : "),n(),o(33,"span",6),m(34),F(35,"currency"),n()(),o(36,"p")(37,"strong"),m(38,"Total: "),n(),o(39,"span",6),m(40),F(41,"currency"),n()(),o(42,"p")(43,"strong"),m(44,"Status: "),n(),o(45,"span",6),m(46),n()(),o(47,"p")(48,"strong"),m(49,"Order Created: "),n(),o(50,"span",6),m(51),F(52,"date"),n()()(),o(53,"button",8),m(54," View your order "),n()()),r&2){let e=t.ngIf;c(12),y(e.buyerEmail),c(5),y(e.deliveryMethod),c(5),y(I(23,10,e.subtotal)),c(6),q("- ",I(29,12,e.discount),""),c(6),q(" ",I(35,14,e.shippingPrice),""),c(6),y(I(41,16,e.total)),c(6),y(e.status),c(5),y(I(52,18,e.orderDate)),c(2),we("routerLink","/orders/",e.id,"")}}function Et(r,t){r&1&&(o(0,"div",9)(1,"p"),m(2,"No Order"),n()())}var he=class r{constructor(t,e){this.signalrService=t;this.orderService=e}ngOnDestroy(){this.orderService.orderComplete=!1,this.signalrService.orderSignal.set(null)}static \u0275fac=function(e){return new(e||r)(p(Be),p(V))};static \u0275cmp=d({type:r,selectors:[["app-checkout-success"]],standalone:!0,features:[u],decls:2,vars:2,consts:[["class","container mt-5","style","margin-bottom: 40px",4,"ngIf"],["class","container mt-5",4,"ngIf"],[1,"container","mt-5",2,"margin-bottom","40px"],[1,"fa","fa-check-circle","fa-5x",2,"color","green"],[1,"mb-4"],[1,"mb-4",2,"margin-left","20px"],[1,"text-muted"],[1,"text-primary"],[1,"btn","btn-outline-success",3,"routerLink"],[1,"container","mt-5"]],template:function(e,i){e&1&&v(0,xt,55,20,"div",0)(1,Et,3,0,"div",1),e&2&&(s("ngIf",i.signalrService.orderSignal()),c(),s("ngIf",!i.signalrService.orderSignal()))},dependencies:[C,Oe,ee,U,je]})};var Se=class r{constructor(t,e){this.orderService=t;this.router=e}canActivate(){return this.orderService.orderComplete?!0:(this.router.navigateByUrl("/shop"),!1)}static \u0275fac=function(e){return new(e||r)(L(V),L(te))};static \u0275prov=$({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ft=[{path:"",component:ve},{path:"success",component:he,canActivate:[Se]}],ye=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=z({type:r});static \u0275inj=H({imports:[U.forChild(Ft),U]})};var et=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=z({type:r});static \u0275inj=H({imports:[ye]})};export{et as CheckoutModule};
